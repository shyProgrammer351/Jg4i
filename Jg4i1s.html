<!DOCTYPE html> <html> 	<head> 		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7250753558435816" crossorigin="anonymous"></script> 		<link rel="stylesheet" href="../layout.css"> 		<script type="text/javascript" src="../functions.js"></script> 		<script> 			const sP3d10 = "1 3 P1b P1e 2 4 E001 P2b P21 P3b P3e P22 P23 P4b P4e P2e E002 P2b P21 P3b P3e P22 P23 P4b P4e P2e E003 P2b P21 P3b P3e P22 P23 P4b P4e P2e E004 5"; 		</script> 	</head> 	<body oncontextmenu="return false" oncut="return false" onpaste="return false" draggable="false" ondragstart="return false" ondrop="return false"> 		<div id = "container"> 			<div id = "titleBox"> JAVA 프로그래밍 </div> 			<div id = "navigationBox"><ol start=0><li><a href='../Jf0i/Jf0i0.html'>JAVA 프로그래밍 시작</a></li><li><a href='../Jf1i/Jf1i0.html'>출력</a></li><li><a href='../Jf2i/Jf2i0.html'>입력</a></li><li><a href='../Jf3i/Jf3i0.html'>변수</a></li><li><a href='../Jf4i/Jf4i0.html'>연산자</a></li><li><a href='../Jf5i/Jf5i0.html'>선택문(삼항연산자/switch)</a></li><li><a href='../Jf6i/Jf6i0.html'>선택문(if)</a></li><li><a href='../Jf7i/Jf7i0.html'>반복문(while)</a></li><li><a href='../Jf8i/Jf8i0.html'>반복문(for)</a></li><li><a href='../Jf9i/Jf9i0.html'>배열</a></li><li><a href='../Jg0i/Jg0i0.html'>문자열/컬렉션</a></li><li><a href='../Jg1i/Jg1i0.html'>클래스/패키지</a></li><li><a href='../Jg2i/Jg2i0.html'>상속/다형성</a></li><li><a href='../Jg3i/Jg3i0.html'>GUI기초</a></li><li><a href='../Jg4i/Jg4i0.html'>GUI응용</a></li><ul><li><a href='../Jg4i/Jg4i1.html'>캐릭터 이동</a></li><ul><li><a href='Jg4i1.html'>코드읽기</a></li><li><a href='Jg4i1a.html'>알고리즘</a></li><li><a href='Jg4i1k.html'>키워드</a></li><li><a href='Jg4i1b.html'>빈칸채우기</a></li><li><a href='Jg4i1s.html'>실행순서</a></li><li><a href='Jg4i1m.html'>실행상태</a></li><li><a href='https://github.com/CodeReading101/JAVA/blob/main/Chapter14/CharacterMovementGUI.java' target='code'>소스코드</a></li></ul><li><a href='../Jg4i/Jg4i2.html'>구슬찾기</a></li><li><a href='../Jg4i/Jg4i3.html'>가위바위보</a></li><li><a href='../Jg4i/Jg4i4.html'>리모컨-TV</a></li><li><a href='../Jg4i/Jg4i5.html'>폭탄 피하기</a></li></ul><li><a href='../Jg5i/Jg5i0.html'>예외/쓰레드</a></li><li><a href='../Jg6i/Jg6i0.html'>파일입출력</a></li><li><a href='../Jg7i/Jg7i0.html'>네트워크(1:1)</a></li><li><a href='../Jg8i/Jg8i0.html'>네트워크(1:n)</a></li><li><a href='../Jg9i/Jg9i0.html'>열거형/제네릭</a></li><li><a href='../Jh0i/Jh0i0.html'>재귀함수</a></li></ol></div>  			<div id = "contentBox"> 				<h4>문제</h4> 				<pre style='white-space:normal;'>미로맵에서 캐릭터를 화살표키나 WASD키를 이용하여 상하좌우로 이동시키는 문제입니다 실행순서를 클릭하세요 </pre> 				
<img width="150" src = "https://shyprogrammer351.github.io/ig3i/GUI2/mazeMap_1.jpg" >
<img width="150" src = "https://shyprogrammer351.github.io/ig3i/GUI2/mazeMap_3.jpg" >
<img width="150" src = "https://shyprogrammer351.github.io/ig3i/GUI2/mazeMap_5.jpg" >
<pre> 
</pre><br>  	 				<h4>프로그램 코드</h4> 				<pre>
<pre id="codeE001" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('E001')">E001		<font color="green">// D키 입력</font>
</pre><pre id="codeE002" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('E002')">E002		<font color="green">// d키 입력</font>
</pre><pre id="codeE003" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('E003')">E003		<font color="green">// →키 입력</font>
</pre><pre id="codeE004" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('E004')">E004		<font color="green">// 프로그램 닫기(우측상단 X) 선택</font>

</pre><pre id="code0" class="unselectable codeClass">	import java.awt.*;
</pre><pre id="code0" class="unselectable codeClass">	import java.awt.event.*;
</pre><pre id="code0" class="unselectable codeClass">	import javax.swing.*;

</pre><pre id="code0" class="unselectable codeClass">	class CharacterMovementPanel extends JPanel
</pre><pre id="code0" class="unselectable codeClass">	{
</pre><pre id="code0" class="unselectable codeClass">		private int x, y, maxX, maxY;
</pre><pre id="code0" class="unselectable codeClass">		private int[][] map;
</pre><pre id="code0" class="unselectable codeClass">		private Image[] image;
</pre><pre id="code0" class="unselectable codeClass">		private final int SIZE = 40, SCOPE = 3, CHARACTER = 2, WALL = 1;

</pre><pre id="codeP1b" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('P1b')">P1b		public CharacterMovementPanel( int[][] map, final String imagePath ){
</pre><pre id="code0" class="unselectable codeClass">			this.x = 5;
</pre><pre id="code0" class="unselectable codeClass">			this.y = 5;
</pre><pre id="code0" class="unselectable codeClass">			this.map = map;
</pre><pre id="code0" class="unselectable codeClass">			this.maxX = map[0].length-1;
</pre><pre id="code0" class="unselectable codeClass">			this.maxY = map.length-1;

</pre><pre id="code0" class="unselectable codeClass">			this.image = new Image[3];
</pre><pre id="code0" class="unselectable codeClass">			this.image[0] = new ImageIcon( imagePath + "path.png" ).getImage();
</pre><pre id="code0" class="unselectable codeClass">			this.image[1] = new ImageIcon( imagePath + "wall.png" ).getImage();
</pre><pre id="code0" class="unselectable codeClass">			this.image[2] = new ImageIcon( imagePath + "character.png" ).getImage();
</pre><pre id="code0" class="unselectable codeClass">			setPreferredSize( new Dimension( SIZE*(2*SCOPE+1), SIZE*(2*SCOPE+1) ) );

</pre><pre id="code0" class="unselectable codeClass">			addKeyListener( new ArrowKeyListener() );
</pre><pre id="code0" class="unselectable codeClass">			setFocusable( true );
</pre><pre id="code0" class="unselectable codeClass">			requestFocus();
</pre><pre id="codeP1e" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('P1e')">P1e		}

</pre><pre id="code0" class="unselectable codeClass">		private class ArrowKeyListener extends KeyAdapter {
</pre><pre id="codeP2b" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('P2b')">P2b			public void keyPressed( KeyEvent e ) {
</pre><pre id="code0" class="unselectable codeClass">				switch( e.getKeyCode() ) {
</pre><pre id="code0" class="unselectable codeClass">				case KeyEvent.VK_ESCAPE:
</pre><pre id="code0" class="unselectable codeClass">					System.exit(0);
</pre><pre id="code0" class="unselectable codeClass">					break;
</pre><pre id="code0" class="unselectable codeClass">				case KeyEvent.VK_LEFT: case 'A': case 'a':
</pre><pre id="code0" class="unselectable codeClass">					move( -1, 0 );
</pre><pre id="code0" class="unselectable codeClass">					break;
</pre><pre id="code0" class="unselectable codeClass">				case KeyEvent.VK_RIGHT: case 'D': case 'd':
</pre><pre id="codeP21" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('P21')">P21					move( +1, 0 );
</pre><pre id="codeP22" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('P22')">P22					break;
</pre><pre id="code0" class="unselectable codeClass">				case KeyEvent.VK_UP: case 'W': case 'w':
</pre><pre id="code0" class="unselectable codeClass">					move( 0, -1 );
</pre><pre id="code0" class="unselectable codeClass">					break;
</pre><pre id="code0" class="unselectable codeClass">				case KeyEvent.VK_DOWN: case 'S': case 's':
</pre><pre id="code0" class="unselectable codeClass">					move( 0, +1 );
</pre><pre id="code0" class="unselectable codeClass">					break;
</pre><pre id="code0" class="unselectable codeClass">				}
</pre><pre id="codeP23" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('P23')">P23				repaint();
</pre><pre id="codeP2e" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('P2e')">P2e			}
</pre><pre id="code0" class="unselectable codeClass">		}

</pre><pre id="codeP3b" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('P3b')">P3b		public void move( int x, int y ) {
</pre><pre id="code0" class="unselectable codeClass">			this.x += x;
</pre><pre id="code0" class="unselectable codeClass">			this.y += y;
</pre><pre id="code0" class="unselectable codeClass">			
</pre><pre id="code0" class="unselectable codeClass">			this.x = ( this.x &lt;= 0 ) ? 0 : this.x;
</pre><pre id="code0" class="unselectable codeClass">			this.y = ( this.y &lt;= 0 ) ? 0 : this.y;
</pre><pre id="code0" class="unselectable codeClass">			this.x = ( this.x &gt;= maxX ) ? maxX : this.x;
</pre><pre id="code0" class="unselectable codeClass">			this.y = ( this.y &gt;= maxY ) ? maxY : this.y;

</pre><pre id="code0" class="unselectable codeClass">			if( map[this.y][this.x] == WALL ) {
</pre><pre id="code0" class="unselectable codeClass">				this.x -= x;
</pre><pre id="code0" class="unselectable codeClass">				this.y -= y;
</pre><pre id="code0" class="unselectable codeClass">			}
</pre><pre id="codeP3e" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('P3e')">P3e		}

</pre><pre id="codeP4b" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('P4b')">P4b		public void paint( Graphics g ){
</pre><pre id="code0" class="unselectable codeClass">			super.paint( g );
</pre><pre id="code0" class="unselectable codeClass">			for( int y = this.y - SCOPE, y2 = 0; y &lt;= this.y + SCOPE; y++, y2++ ){
</pre><pre id="code0" class="unselectable codeClass">				for( int x = this.x - SCOPE, x2 = 0; x &lt;= this.x + SCOPE; x++, x2++ ){
</pre><pre id="code0" class="unselectable codeClass">					int index = WALL;
</pre><pre id="code0" class="unselectable codeClass">					if ( ( this.x == x ) && ( this.y == y ) )
</pre><pre id="code0" class="unselectable codeClass">						index = CHARACTER;
</pre><pre id="code0" class="unselectable codeClass">					else if ( ( 0 &lt;= x ) && ( x &lt;= maxX ) && ( 0 &lt;= y ) && ( y &lt;= maxY ) )
</pre><pre id="code0" class="unselectable codeClass">						index = map[y][x];
</pre><pre id="code0" class="unselectable codeClass">					g.drawImage( this.image[index], x2*SIZE, y2*SIZE, SIZE, SIZE, null );
</pre><pre id="code0" class="unselectable codeClass">				}
</pre><pre id="code0" class="unselectable codeClass">			}
</pre><pre id="codeP4e" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('P4e')">P4e		}
</pre><pre id="code0" class="unselectable codeClass">	}

</pre><pre id="code0" class="unselectable codeClass">	public class CharacterMovementGUI
</pre><pre id="code0" class="unselectable codeClass">	{
</pre><pre id="code1" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('1')">1		public static void main( String[] args )
</pre><pre id="code0" class="unselectable codeClass">		{
</pre><pre id="code0" class="unselectable codeClass">			final String imagePath = "C:\\Users\\user\\Downloads\\JAVA-main\\Chapter14\\image\\";

</pre><pre id="code0" class="unselectable codeClass">			int[][] map = { { 1,1,1,1,1,1,1,1,1,1,1 },
</pre><pre id="code0" class="unselectable codeClass">			                { 1,0,0,0,1,0,0,0,0,0,1 },
</pre><pre id="code0" class="unselectable codeClass">			                { 1,1,1,0,1,0,1,1,1,0,1 },
</pre><pre id="code0" class="unselectable codeClass">			                { 1,0,0,0,1,0,0,0,1,0,1 },
</pre><pre id="code0" class="unselectable codeClass">			                { 1,0,1,1,1,1,1,1,1,0,1 },
</pre><pre id="code0" class="unselectable codeClass">			                { 1,0,0,0,1,0,0,0,0,0,1 },
</pre><pre id="code0" class="unselectable codeClass">			                { 1,1,1,0,1,1,1,1,1,0,1 },
</pre><pre id="code0" class="unselectable codeClass">			                { 1,0,0,0,1,0,0,0,0,0,1 },
</pre><pre id="code0" class="unselectable codeClass">			                { 1,0,1,1,1,1,1,0,1,0,1 },
</pre><pre id="code0" class="unselectable codeClass">			                { 1,0,0,0,0,0,0,0,0,0,1 },
</pre><pre id="code0" class="unselectable codeClass">			                { 1,1,1,1,1,1,1,1,1,1,1 }
</pre><pre id="code0" class="unselectable codeClass">			              };

</pre><pre id="code0" class="unselectable codeClass">			JFrame frame = new JFrame( "미로맵" );

</pre><pre id="code2" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('2')">2			CharacterMovementPanel panel =
</pre><pre id="code3" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('3')">3			                               new CharacterMovementPanel( map, imagePath );

</pre><pre id="code0" class="unselectable codeClass">			frame.getContentPane().add( panel );
</pre><pre id="code0" class="unselectable codeClass">			frame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );
</pre><pre id="code0" class="unselectable codeClass">			frame.pack();
</pre><pre id="code0" class="unselectable codeClass">			frame.setVisible(true);
</pre><pre id="code0" class="unselectable codeClass">			
</pre><pre id="code4" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('4')">4			<font color="green">// 이벤트 발생시 처리 준비중</font>
</pre><pre id="code5" class="unselectable codeClass" onmouseover="sP3f8(this.id, true) " onmouseout="sP3f8(this.id, false)" onclick="sP3f7('5')">5		}
</pre><pre id="code0" class="unselectable codeClass">	}
</pre>
</pre> 				<br><br><br><br><br><br><br><br> &nbsp;  			</div> 			<div id = "floatingBox"> 				<b>실행 순서</b> 				<pre id = "sP3d4" style='white-space:normal; word-wrap:break-word; width:150px;'></pre> 			</div> 		</div> 	</body> </html>   
